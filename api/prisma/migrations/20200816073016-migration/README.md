# Migration `20200816073016-migration`

This migration has been generated by nampdn at 8/16/2020, 7:30:16 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `ekklisia_dev`.`Meta` (
`draftProfileId` varchar(191)  ,`id` varchar(191) NOT NULL  ,`key` varchar(191) NOT NULL  ,`type` varchar(191) NOT NULL  ,`value` varchar(191) NOT NULL  ,
    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE TABLE `ekklisia_dev`.`DraftProfile` (
`birthday` datetime(3)   ,`fullName` varchar(191) NOT NULL  ,`id` varchar(191) NOT NULL  ,`nationalId` varchar(191)   ,`phoneNumber` varchar(191)   ,
    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `ekklisia_dev`.`Meta` ADD FOREIGN KEY (`draftProfileId`) REFERENCES `ekklisia_dev`.`DraftProfile`(`id`) ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200729005148-migration..20200816073016-migration
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource DS {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider      = "prisma-client-js"
@@ -17,8 +17,24 @@
   profile    Profile @relation("UserProfile", fields: [profileId], references: [id])
   profileId  String
 }
+model Meta {
+  id    String @default(cuid()) @id
+  key   String
+  value String
+  type  String
+}
+
+model DraftProfile {
+  id          String    @default(cuid()) @id
+  fullName    String
+  nationalId  String?
+  phoneNumber String?
+  birthday    DateTime?
+  meta        Meta[]
+}
+
 model Profile {
   id           String            @default(cuid()) @id
   fullName     String
   gender       String?
```


